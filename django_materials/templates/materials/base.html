<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}{{ title }}{% endblock %}</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,600,700">
  <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
  <style>
    body {
      display: flex;
      height: 100vh;
      margin: 0;
      padding: 0;
    }


    .mdc-drawer-app-content {
      flex: auto;
      overflow: auto;
      position: relative;
    }

    .main-content {
      overflow: auto;
      height: 100%;
    }

    .app-bar {
      position: absolute;
    }

    .mdc-top-app-bar {
      background-color: #efefef;
      color: #666;
      z-index: 7;
    }

    .mdc-list-item__link {
      text-decoration: none;
      color: inherit;
    }

    .mdc-top-app-bar .mdc-top-app-bar__action-item,
    .mdc-top-app-bar .mdc-top-app-bar__navigation-icon {
      color: #666;
    }

  </style>
</head>

<body>

{% include 'materials/components/drawer.html' %}
{% include 'materials/components/appbar.html' %}
<div class="mdc-drawer-app-content mdc-top-app-bar--fixed-adjust">
  <main class="main-content" id="main-content">
    {% block content %}{{ content }}{% endblock %}
  </main>
</div>

<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
<script type="text/javascript">

  // Drawer
  const drawer = new mdc.drawer.MDCDrawer(document.getElementById('drawer'));
  const topAppBar = mdc.topAppBar.MDCTopAppBar.attachTo(document.getElementById('app-bar'));
  topAppBar.setScrollTarget(document.getElementById('main-content'));
  topAppBar.listen('MDCTopAppBar:nav', function () {
    drawer.open = !drawer.open;
  });

  // MENU

  const menuEls = Array.from(document.querySelectorAll('.mdc-menu'));

  menuEls.forEach(function (menuEl) {
    // Initialize MDCSimpleMenu on each ".mdc-simple-menu"
    const menu = new mdc.menu.MDCMenu(menuEl);

    // We wrapped menu and toggle into containers for easier selecting the toggles
    const dropdownAnchor = menuEl.parentElement.querySelector('.mdc-menu-anchor');
    const dropdownToggle = menuEl.parentElement.querySelector('.js--dropdown-toggle');
    dropdownToggle.addEventListener('click', function () {
      menu.open = !menu.open;
    });
    menu.setAnchorCorner(mdc.menu.Corner.BOTTOM_LEFT);
    console.log(mdc.menu.Corner);
  });

</script>

</body>
</html>