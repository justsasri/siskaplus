{% extends 'sites/academic/base.html' %}
{% load i18n static %}

{% block extra_css %}
  {{ block.super }}
{% endblock %}

{% block breadcrumb_items %}
  <li class="breadcrumb-item active" aria-current="page"><a href="{% url 'academic_teacher_index' %}">{{ opts.verbose_name_plural | title }}</a></li>
  <li class="breadcrumb-item active" aria-current="page">{{ instance | title }}</li>
{% endblock %}

{% block page_title %}
  <h1 class="display-5 text-white">{{ instance | title }}</h1>
{% endblock %}


{% block page_subtitle %}
  {% if instance.summary %}
    <p>{{ instance.summary | safe }}</p>
  {% endif %}
  <div class="page-header__meta">
    {% if instance.rmu %}
      <p><strong>{{ instance.rmu }}</strong></p>
    {% endif %}
  </div>
{% endblock %}

{% block content_main_class %}col-md-9{% endblock %}
{% block content_main %}
  <h4 class="font-weight-bold mb-3">{% trans 'Courses' %}</h4>
  <div class="curriculum-course-table bg-white mb-4 border">
    {% with instance.courses.all as results %}
      {% if results %}
      <div class="table-responsive">
        <table class="table table-sm table-hover table-small mb-0">
          <thead>
          <tr>
            <th class="border-0 pl-4" scope="col">{% trans 'Name' %}</th>
            <th class="border-0" width="100" scope="col">{% trans 'Code' %}</th>
            <th class="border-0 text-center" width="30" scope="col">MT</th>
            <th class="border-0 text-center" width="30" scope="col">PC</th>
            <th class="border-0 text-center" width="30" scope="col">PF</th>
            <th class="border-0 text-center" width="30" scope="col">SM</th>
            <th class="border-0 text-center pr-4" width="30" scope="col">ST</th>
          </tr>
          </thead>
          <tbody>
          {% for item in results %}
            <tr>
              <td class="pl-4" scope="row">
                <a href="{% url 'academic_course_inspect' item.id %}">
                  {{ item.name }}</a>
              </td>
              <td>{{ item.old_code }}</td>
              <td class="text-center">{{ item.meeting }}</td>
              <td class="text-center">{{ item.practice }}</td>
              <td class="text-center">{{ item.field_practice }}</td>
              <td class="text-center">{{ item.simulation }}</td>
              <td class="text-center pr-4">{{ item.total }}</td>
            </tr>
          {% endfor %}
          </table>
        </div>
      {% else %}
        <div class="p-3">{% trans 'No student here.' %}</div>
      {% endif %}
    {% endwith %}
  </div>


  <h4 class="font-weight-bold mb-3">{% trans 'Students' %}</h4>
  <div class="curriculum-course-table bg-white mb-4 border">
  {% with instance.students.all as results %}
    {% if results %}
    <div class="table-responsive">
      <table class="table table-sm table-hover table-small mb-0">
        <thead>
        <tr>
          <th class="border-0 pl-4" scope="col">{% trans 'Name' %}</th>
          <th class="border-0" width="100" scope="col">{% trans 'Student ID' %}</th>
          <th class="border-0" scope="col">{% trans 'Program Study' %}</th>
          <th class="border-0 text-center" scope="col">{% trans 'Year of Force' %}</th>
          <th class="border-0 text-center pr-4" width="30" scope="col">{% trans 'Status' %}</th>
        </tr>
        </thead>
        <tbody>
        {% for item in results %}
          <tr>
            <td class="pl-4" scope="row">
              <a href="{% url 'academic_student_inspect' item.id %}">
                {{ item }}</a>
            </td>
            <td>{{ item.student_id }}</td>
            <td>{{ item.rmu }}</td>
            <td class="text-center">{{ item.year_of_force }}</td>
            <td class="text-center pr-4">{{ item.get_status_display }}</td>
          </tr>
        {% endfor %}
      </table>
    </div>
    {% else %}
      <div class="p-3">{% trans 'No student here.' %}</div>
    {% endif %}
  {% endwith %}
  </div>

{% endblock %}

{% block content_sidebar_class %}col-md-3{% endblock %}
{% block content_sidebar %}
<div class="sidebar__widget">
  <div class="user-view mt-3">
    <a href="{% if instance.account.person %}{% url 'public_profile' username=instance.account.username %}{% else %}#{% endif %}">
      <img src="{{ instance.account.gravatar }}" alt="Avatar" class="avatar avatar-lg avatar-center rounded-circle ">
    </a>
    <span class="name mt-3">{{ instance }}</span>
    <span class="email">{{ instance.account.primary_email }}</span>
  </div>
</div>
{% endblock %}